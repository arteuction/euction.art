<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="–†–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–π—Ç–µ —Å–µ –≤ ART EUction –∏ –∑–∞–ø–æ—á–Ω–µ—Ç–µ –¥–∞ –ø–æ–¥–∫—Ä–µ–ø—è—Ç–µ —Å–æ—Ü–∏–∞–ª–Ω–æ –≤—ä–∑–¥–µ–π—Å—Ç–≤–∞—â–æ –∏–∑–∫—É—Å—Ç–≤–æ">
  <meta name="keywords" content="—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, register, ART EUction, –∞—É–∫—Ü–∏–æ–Ω –Ω–∞ –∏–∑–∫—É—Å—Ç–≤–æ">
  <title>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è | ART EUction</title>

  <!-- Stylesheets -->
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/responsive.css">

  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üé®</text></svg>">
</head>
<body>

  <!-- Header -->
  <header class="header">
    <div class="header-container">
      <a href="index.html" class="logo">
        <div class="logo-icon">AE</div>
        <span class="logo-text">ART EUction</span>
      </a>

      <nav class="nav">
        <ul class="nav-list">
          <li><a href="index.html" class="nav-link">–ù–∞—á–∞–ª–æ</a></li>
          <li><a href="about.html" class="nav-link">–ù–∞—à–∞—Ç–∞ –º–∏—Å–∏—è</a></li>
          <li><a href="sdg/sdg-overview.html" class="nav-link">–¶–£–†</a></li>
          <li><a href="partners.html" class="nav-link">–í–∞—à–∞—Ç–∞ –ø–æ–ª–∑–∞</a></li>
        </ul>

        <div class="auth-buttons nav-cta">
          <a href="login.html" class="btn btn-outline btn-sm">–í—Ö–æ–¥</a>
          <a href="register.html" class="btn btn-primary btn-sm">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
        </div>
      </nav>

      <button class="hamburger" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <section class="section auth-section">
      <div class="container">
        <div class="auth-container">
          <!-- Auth Card -->
          <div class="auth-card">
            <div class="auth-header">
              <h1 class="auth-title">–°—ä–∑–¥–∞–π—Ç–µ –∞–∫–∞—É–Ω—Ç</h1>
              <p class="auth-subtitle">–ü—Ä–∏—Å—ä–µ–¥–∏–Ω–µ—Ç–µ —Å–µ –∫—ä–º –Ω–∞—à–∞—Ç–∞ –æ–±—â–Ω–æ—Å—Ç –∏ –∑–∞–ø–æ—á–Ω–µ—Ç–µ –¥–∞ –ø—Ä–∞–≤–∏—Ç–µ —Ä–∞–∑–ª–∏–∫–∞</p>
            </div>

            <!-- Register Form -->
            <form id="register-form" class="auth-form">
              <!-- Full Name Field -->
              <div class="form-group">
                <label for="fullName" class="form-label">–ü—ä–ª–Ω–æ –∏–º–µ</label>
                <input
                  type="text"
                  id="fullName"
                  name="fullName"
                  class="form-input"
                  placeholder="–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
                  required
                  autocomplete="name"
                  minlength="2"
                >
              </div>

              <!-- Email Field -->
              <div class="form-group">
                <label for="email" class="form-label">–ò–º–µ–π–ª –∞–¥—Ä–µ—Å</label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  class="form-input"
                  placeholder="–≤–∞—à–∏—è—Ç@–∏–º–µ–π–ª.com"
                  required
                  autocomplete="email"
                >
              </div>

              <!-- Password Field -->
              <div class="form-group">
                <label for="password" class="form-label">–ü–∞—Ä–æ–ª–∞</label>
                <input
                  type="password"
                  id="password"
                  name="password"
                  class="form-input"
                  placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                  required
                  autocomplete="new-password"
                  minlength="8"
                >
                <small class="form-hint">–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–∞</small>
              </div>

              <!-- Confirm Password Field -->
              <div class="form-group">
                <label for="confirmPassword" class="form-label">–ü–æ—Ç–≤—ä—Ä–¥–µ—Ç–µ –ø–∞—Ä–æ–ª–∞—Ç–∞</label>
                <input
                  type="password"
                  id="confirmPassword"
                  name="confirmPassword"
                  class="form-input"
                  placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                  required
                  autocomplete="new-password"
                  minlength="8"
                >
              </div>

              <!-- Terms Agreement -->
              <div class="form-group">
                <label class="checkbox-label">
                  <input type="checkbox" name="terms" id="terms" required>
                  <span>–°—ä–≥–ª–∞—Å–µ–Ω —Å—ä–º —Å <a href="#" class="link-primary">–£—Å–ª–æ–≤–∏—è—Ç–∞ –∑–∞ –ø–æ–ª–∑–≤–∞–Ω–µ</a> –∏ <a href="#" class="link-primary">–ü–æ–ª–∏—Ç–∏–∫–∞—Ç–∞ –∑–∞ –ø–æ–≤–µ—Ä–∏—Ç–µ–ª–Ω–æ—Å—Ç</a></span>
                </label>
              </div>

              <!-- Submit Button -->
              <button type="submit" class="btn btn-primary btn-block" id="register-btn">
                –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
              </button>
            </form>

            <!-- Divider -->
            <div class="auth-divider">
              <span>–∏–ª–∏</span>
            </div>

            <!-- Social Login -->
            <div class="social-login">
              <button type="button" class="btn btn-google" id="google-register-btn">
                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M17.64 9.20454C17.64 8.56636 17.5827 7.95273 17.4764 7.36364H9V10.845H13.8436C13.635 11.97 13.0009 12.9232 12.0477 13.5614V15.8195H14.9564C16.6582 14.2527 17.64 11.9455 17.64 9.20454Z" fill="#4285F4"/>
                  <path d="M9 18C11.43 18 13.4673 17.1941 14.9564 15.8195L12.0477 13.5614C11.2418 14.1014 10.2109 14.4204 9 14.4204C6.65591 14.4204 4.67182 12.8373 3.96409 10.71H0.957275V13.0418C2.43818 15.9832 5.48182 18 9 18Z" fill="#34A853"/>
                  <path d="M3.96409 10.71C3.78409 10.17 3.68182 9.59318 3.68182 9C3.68182 8.40682 3.78409 7.83 3.96409 7.29V4.95818H0.957275C0.347727 6.17318 0 7.54773 0 9C0 10.4523 0.347727 11.8268 0.957275 13.0418L3.96409 10.71Z" fill="#FBBC05"/>
                  <path d="M9 3.57955C10.3214 3.57955 11.5077 4.03364 12.4405 4.92545L15.0218 2.34409C13.4632 0.891818 11.4259 0 9 0C5.48182 0 2.43818 2.01682 0.957275 4.95818L3.96409 7.29C4.67182 5.16273 6.65591 3.57955 9 3.57955Z" fill="#EA4335"/>
                </svg>
                –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å Google
              </button>
            </div>

            <!-- Login Link -->
            <div class="auth-footer">
              <p>–í–µ—á–µ –∏–º–∞—Ç–µ –∞–∫–∞—É–Ω—Ç? <a href="login.html" class="link-primary">–í–ª–µ–∑—Ç–µ</a></p>
            </div>
          </div>

          <!-- Auth Aside -->
          <div class="auth-aside">
            <div class="auth-aside-content">
              <div style="font-size: 4rem; margin-bottom: 2rem;">üåç</div>
              <h2>–°—Ç–∞–Ω–µ—Ç–µ —á–∞—Å—Ç –æ—Ç –ø—Ä–æ–º—è–Ω–∞—Ç–∞</h2>
              <p>–°—ä–∑–¥–∞–π—Ç–µ –∞–∫–∞—É–Ω—Ç –∏ –∑–∞–ø–æ—á–Ω–µ—Ç–µ –¥–∞ –ø–æ–¥–∫—Ä–µ–ø—è—Ç–µ –≥–ª–æ–±–∞–ª–Ω–∏ –∫–∞—É–∑–∏ —á—Ä–µ–∑ –∏–∑–∫—É—Å—Ç–≤–æ.</p>

              <div class="auth-features">
                <div class="auth-feature">
                  <div class="feature-icon">üé®</div>
                  <div class="feature-text">
                    <h4>–ù–∞–¥–¥–∞–≤–∞–π—Ç–µ –∑–∞ –∏–∑–∫—É—Å—Ç–≤–æ</h4>
                    <p>–£—á–∞—Å—Ç–≤–∞–π—Ç–µ –≤ –ø—Ä–æ–∑—Ä–∞—á–Ω–∏ –±–ª–æ–∫—á–µ–π–Ω –∞—É–∫—Ü–∏–æ–Ω–∏</p>
                  </div>
                </div>

                <div class="auth-feature">
                  <div class="feature-icon">üíö</div>
                  <div class="feature-text">
                    <h4>–ü–æ–¥–∫—Ä–µ–ø–µ—Ç–µ –∫–∞—É–∑–∏</h4>
                    <p>–í—Å—è–∫–∞ –æ—Ñ–µ—Ä—Ç–∞ –ø–æ–¥–∫—Ä–µ–ø—è –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–∞–Ω–∏ –ù–ü–û</p>
                  </div>
                </div>

                <div class="auth-feature">
                  <div class="feature-icon">üìä</div>
                  <div class="feature-text">
                    <h4>–°–ª–µ–¥–µ—Ç–µ –≤—ä–∑–¥–µ–π—Å—Ç–≤–∏–µ—Ç–æ</h4>
                    <p>–í–∏–∂—Ç–µ —Ä–µ–∞–ª–Ω–æ—Ç–æ –≤—ä–∑–¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ –≤–∞—à–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—è</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h4>–ó–∞ ART EUction</h4>
          <p>–†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –∫–æ–º–±–∏–Ω–∏—Ä–∞—â–∞ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–∏ –∞—É–∫—Ü–∏–æ–Ω–∏ —Å—ä—Å —Å–æ—Ü–∏–∞–ª–Ω–æ –≤—ä–∑–¥–µ–π—Å—Ç–≤–∏–µ, –ø–æ–¥–∫—Ä–µ–ø—è—â–∞ 17-—Ç–µ –¶–µ–ª–∏ –∑–∞ —É—Å—Ç–æ–π—á–∏–≤–æ —Ä–∞–∑–≤–∏—Ç–∏–µ –Ω–∞ –û–û–ù.</p>
        </div>

        <div class="footer-section">
          <h4>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞</h4>
          <ul class="footer-links">
            <li><a href="about.html">–ö–∞–∫ —Ä–∞–±–æ—Ç–∏</a></li>
            <li><a href="events.html">–°—ä–±–∏—Ç–∏—è</a></li>
            <li><a href="sia.html">–¢–∞–±–ª–æ –∑–∞ –∞–Ω–∞–ª–∏–∑–∏</a></li>
            <li><a href="sdg/sdg-overview.html">–ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –¶–£–†</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h4>–ó–∞ —Ö—É–¥–æ–∂–Ω–∏—Ü–∏</h4>
          <ul class="footer-links">
            <li><a href="artist-signup.html">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Ö—É–¥–æ–∂–Ω–∏–∫</a></li>
            <li><a href="artwork-submission.html">–ò–∑–ø—Ä–∞—Ç–µ—Ç–µ —Ç–≤–æ—Ä–±–∞</a></li>
            <li><a href="#">–ù–∞—Å–æ–∫–∏ –∑–∞ —Ö—É–¥–æ–∂–Ω–∏—Ü–∏</a></li>
            <li><a href="#">–ß–ó–í</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h4>–ü—Ä–∞–≤–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
          <ul class="footer-links">
            <li><a href="#">–£—Å–ª–æ–≤–∏—è –∑–∞ –ø–æ–ª–∑–≤–∞–Ω–µ</a></li>
            <li><a href="#">–ü–æ–ª–∏—Ç–∏–∫–∞ –∑–∞ –ø–æ–≤–µ—Ä–∏—Ç–µ–ª–Ω–æ—Å—Ç</a></li>
            <li><a href="#">–ü–æ–ª–∏—Ç–∏–∫–∞ –∑–∞ –±–∏—Å–∫–≤–∏—Ç–∫–∏</a></li>
            <li><a href="team.html">–°–≤—ä—Ä–∂–µ—Ç–µ —Å–µ —Å –Ω–∞—Å</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2025 ART EUction. –í—Å–∏—á–∫–∏ –ø—Ä–∞–≤–∞ –∑–∞–ø–∞–∑–µ–Ω–∏. | –ò–∑–∫—É—Å—Ç–≤–æ—Ç–æ —Å—Ä–µ—â–∞ –≤—ä–∑–¥–µ–π—Å—Ç–≤–∏–µ—Ç–æ</p>
      </div>
    </div>
  </footer>

  <!-- JavaScript Modules -->
  <script type="module">
    import { registerWithEmail, loginWithGoogle, redirectIfAuthenticated } from './js/auth.js';
    import { showNotification } from './js/utils.js';
    import { initNavigation } from './js/navigation.js';

    console.log('Register page script loaded');

    // Initialize navigation
    initNavigation();

    // Redirect if already authenticated
    redirectIfAuthenticated();

    // Handle register form submission
    const registerForm = document.getElementById('register-form');
    const registerBtn = document.getElementById('register-btn');

    registerForm.addEventListener('submit', async (e) => {
      e.preventDefault();

      const fullName = document.getElementById('fullName').value;
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      const terms = document.getElementById('terms').checked;

      // Validate passwords match
      if (password !== confirmPassword) {
        showNotification('–ü–∞—Ä–æ–ª–∏—Ç–µ –Ω–µ —Å—ä–≤–ø–∞–¥–∞—Ç', 'error');
        return;
      }

      // Validate terms acceptance
      if (!terms) {
        showNotification('–ú–æ–ª—è, –ø—Ä–∏–µ–º–µ—Ç–µ —É—Å–ª–æ–≤–∏—è—Ç–∞ –∑–∞ –ø–æ–ª–∑–≤–∞–Ω–µ', 'error');
        return;
      }

      // Disable button and show loading
      registerBtn.disabled = true;
      registerBtn.textContent = '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è...';

      // Attempt registration
      const result = await registerWithEmail(email, password, fullName);

      if (result.success) {
        if (result.needsEmailConfirmation) {
          showNotification('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è—Ç–∞ –µ —É—Å–ø–µ—à–Ω–∞! –ú–æ–ª—è, –ø—Ä–æ–≤–µ—Ä–µ—Ç–µ –∏–º–µ–π–ª–∞ —Å–∏ –∑–∞ –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ.', 'success');
          setTimeout(() => {
            window.location.href = 'login.html';
          }, 3000);
        } else {
          showNotification('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è—Ç–∞ –µ —É—Å–ø–µ—à–Ω–∞! –î–æ–±—Ä–µ –¥–æ—à–ª–∏ –≤ ART EUction.', 'success');
          setTimeout(() => {
            window.location.href = 'index.html';
          }, 1500);
        }
      } else {
        showNotification('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: ' + result.error, 'error');
        registerBtn.disabled = false;
        registerBtn.textContent = '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è';
      }
    });

    // Handle Google registration
    const googleBtn = document.getElementById('google-register-btn');

    if (googleBtn) {
      googleBtn.addEventListener('click', async () => {
        console.log('Google register button clicked');

        googleBtn.disabled = true;
        googleBtn.textContent = '–ü—Ä–µ–Ω–∞—Å–æ—á–≤–∞–Ω–µ...';

        try {
          const result = await loginWithGoogle();
          console.log('Google registration result:', result);

          if (!result.success) {
            showNotification('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å Google: ' + result.error, 'error');
            googleBtn.disabled = false;
            googleBtn.innerHTML = `
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M17.64 9.20454C17.64 8.56636 17.5827 7.95273 17.4764 7.36364H9V10.845H13.8436C13.635 11.97 13.0009 12.9232 12.0477 13.5614V15.8195H14.9564C16.6582 14.2527 17.64 11.9455 17.64 9.20454Z" fill="#4285F4"/>
                <path d="M9 18C11.43 18 13.4673 17.1941 14.9564 15.8195L12.0477 13.5614C11.2418 14.1014 10.2109 14.4204 9 14.4204C6.65591 14.4204 4.67182 12.8373 3.96409 10.71H0.957275V13.0418C2.43818 15.9832 5.48182 18 9 18Z" fill="#34A853"/>
                <path d="M3.96409 10.71C3.78409 10.17 3.68182 9.59318 3.68182 9C3.68182 8.40682 3.78409 7.83 3.96409 7.29V4.95818H0.957275C0.347727 6.17318 0 7.54773 0 9C0 10.4523 0.347727 11.8268 0.957275 13.0418L3.96409 10.71Z" fill="#FBBC05"/>
                <path d="M9 3.57955C10.3214 3.57955 11.5077 4.03364 12.4405 4.92545L15.0218 2.34409C13.4632 0.891818 11.4259 0 9 0C5.48182 0 2.43818 2.01682 0.957275 4.95818L3.96409 7.29C4.67182 5.16273 6.65591 3.57955 9 3.57955Z" fill="#EA4335"/>
              </svg>
              –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å Google
            `;
          }
          // If successful, user will be redirected by OAuth flow
        } catch (error) {
          console.error('Google registration error:', error);
          showNotification('–ì—Ä–µ—à–∫–∞: ' + error.message, 'error');
          googleBtn.disabled = false;
          googleBtn.innerHTML = `
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M17.64 9.20454C17.64 8.56636 17.5827 7.95273 17.4764 7.36364H9V10.845H13.8436C13.635 11.97 13.0009 12.9232 12.0477 13.5614V15.8195H14.9564C16.6582 14.2527 17.64 11.9455 17.64 9.20454Z" fill="#4285F4"/>
              <path d="M9 18C11.43 18 13.4673 17.1941 14.9564 15.8195L12.0477 13.5614C11.2418 14.1014 10.2109 14.4204 9 14.4204C6.65591 14.4204 4.67182 12.8373 3.96409 10.71H0.957275V13.0418C2.43818 15.9832 5.48182 18 9 18Z" fill="#34A853"/>
              <path d="M3.96409 10.71C3.78409 10.17 3.68182 9.59318 3.68182 9C3.68182 8.40682 3.78409 7.83 3.96409 7.29V4.95818H0.957275C0.347727 6.17318 0 7.54773 0 9C0 10.4523 0.347727 11.8268 0.957275 13.0418L3.96409 10.71Z" fill="#FBBC05"/>
              <path d="M9 3.57955C10.3214 3.57955 11.5077 4.03364 12.4405 4.92545L15.0218 2.34409C13.4632 0.891818 11.4259 0 9 0C5.48182 0 2.43818 2.01682 0.957275 4.95818L3.96409 7.29C4.67182 5.16273 6.65591 3.57955 9 3.57955Z" fill="#EA4335"/>
            </svg>
            –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å Google
          `;
        }
      });
    } else {
      console.error('Google register button not found');
    }

    // Password strength indicator
    const passwordInput = document.getElementById('password');
    passwordInput.addEventListener('input', () => {
      const password = passwordInput.value;
      const strength = calculatePasswordStrength(password);
      // Could add visual indicator here
    });

    function calculatePasswordStrength(password) {
      let strength = 0;
      if (password.length >= 8) strength++;
      if (password.length >= 12) strength++;
      if (/[a-z]/.test(password) && /[A-Z]/.test(password)) strength++;
      if (/\d/.test(password)) strength++;
      if (/[^a-zA-Z\d]/.test(password)) strength++;
      return strength;
    }
  </script>
</body>
</html>
